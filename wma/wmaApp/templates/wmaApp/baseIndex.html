{% load static %}
{% load pwa %}
{% load custom_has_group_tag %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    {% block title %}
        <title>WMA</title>
    {% endblock %}

    {% progressive_web_app_meta %}
    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="WMA">
    

    <link rel="icon" href="{% static 'sw/images/favicon.ico' %}" sizes="any">
    <link rel="apple-touch-icon" href="{% static 'sw/images/apple-touch-icon.png' %}">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/fomantic-ui/2.9.4/semantic.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fomantic-ui/2.9.4/semantic.min.js"></script>
    <script src="{% static 'sw/app.js' %}"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.3.2/css/dataTables.semanticui.min.css">
    <script src="{% static 'sw/app.js' %}"></script>
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/fixedcolumns/5.0.0/css/fixedColumns.dataTables.min.css">

    {% block css %}

    {% endblock %}
    <style>
        html {
            scroll-behavior: smooth;
        }
        html, body {
            -ms-text-size-adjust: 100%;
            -webkit-text-size-adjust: 100%;
            -moz-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }

        .sidenav {
            height: 100%;
            width: 200px;
            position: fixed;
            z-index: 1;
            top: 40px;
            left: 0;
            background-color: #000000;
            overflow-x: hidden;
            padding-top: 10px;
        }

        .sidenav a {
            padding: 15px 12px 15px 16px;
            text-decoration: none;
            font-size: 18px;
            color: #818181;
            display: block;
        }

        .sidenav a:hover {
            color: #f1f1f1;
        }

        .preloader {
            align-items: center;
            background: rgb(23, 22, 22);
            display: flex;
            height: 100vh;
            justify-content: center;
            left: 0;
            position: fixed;
            top: 0;
            transition: opacity 0.3s linear;
            width: 100%;
            z-index: 9999;
        }

        body ::-webkit-scrollbar {
            width: 6px;
        }

        .ui.vertical.menu.sidebar-menu {
            margin-top: 40px !important;
            max-height: calc(100% - 40px) !important;
            height: calc(100% - 40px) !important;
        }

        .ui.vertical.menu.sidebar-menu .item i.icon {
            float: left;
            margin: 0em 0.5em 0em 0em;
        }

        .main-content {
            margin-top: 40px;
        }

        @media (min-width: 768px) {
            .ui.vertical.menu.sidebar-menu {
                visibility: visible;
                -webkit-transform: translate3d(0, 0, 0);
                transform: translate3d(0, 0, 0);
                width: 15rem !important;
            }

            .main-content {
                margin-left: 15rem;
            }

            .sidebar-menu-toggler {
                display: none !important;
            }
        }

        .custom_search {
            width: 100%;
            -webkit-transition: width 0.4s ease-in-out;
            transition: width 0.4s ease-in-out;
        }

        .custom_search:focus {
            width: 100%;
        }

        .bgColor {
            /*background-color:#193038 !important;*/
            background: linear-gradient(135deg, #193038, #2a4d5a) !important;

        }
        /*.bgColor {*/
        /*    background: linear-gradient(180deg, #0F2027, #203A43, #2C5364) !important;*/
        /*}*/


        .logoImg {
            width: 30px;
            height: 30px;
            margin: 5px;
            position: relative;
            left: 10px;
        }

        .ui.inverted.menu .active.item {
            background: #3d3e3f;
            color: #4cebb8 !important;
        }

        .dataTables_scroll {
            position: inherit !important;
        }
    </style>

</head>

<body>
<!-- sidebar -->
<div class="ui sidebar inverted bgColor vertical menu sidebar-menu" id="sidebar">

    {% if request.user|has_group:"Admin" or request.user|has_group:"Manager" or request.user|has_group:"Owner" %}
        <div class="item">
            <div class="header">General</div>
            <div class="menu">
                <a class="item" href="{% url 'wmaApp:dashboard' %}">
                    <div>
                        <i class="tachometer alternate icon"></i>
                        Dashboard
                    </div>
                </a>
            </div>
        </div>

        <div class="item">
            <div class="header">
                Manage Staff
            </div>
            <div class="menu">
                <a class="item" href="{% url 'wmaApp:manage_staff' %}">
                    <div><i class="user tie icon"></i>Staff List</div>
                </a>

            </div>
        </div>
    <div class="item">
        <div class="header">
            Manage Locations
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_location' %}">
                <div><i class="map marked alternate icon"></i>Location List</div>
            </a>

        </div>
    </div>
    <div class="item">
        <div class="header">
            Manage Expense
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_expense_group' %}">
                <div><i class="money bill wave icon"></i>Expense Group List</div>
            </a>

            <a class="item" href="{% url 'wmaApp:manage_expense' %}">
                <div><i class="coins icon"></i>Expense List</div>
            </a>

        </div>
    </div>

    <div class="item">
        <div class="header">
            Manage Customers
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_customer' %}">
                <div><i class="users icon"></i>Customer List</div>
            </a>

        </div>
    </div>

    <div class="item">
            <div class="header">
                Manage Inventory
            </div>
            <div class="menu">
                <a class="item" href="{% url 'wmaApp:manage_product' %}">
                    <div><i class="shopping cart icon"></i>Product List</div>
                </a>
                <a class="item" href="{% url 'wmaApp:manage_hsn_and_tax' %}">
                    <div><i class="percent icon"></i>HSN & Tax List</div>
                </a>
                <a class="item" href="{% url 'wmaApp:manage_category' %}">
                    <div><i class="boxes icon"></i>Category List</div>
                </a>
                <a class="item" href="{% url 'wmaApp:manage_unit' %}">
                    <div><i class="equals icon"></i>Unit List</div>
                </a>

            </div>
        </div>
        <div class="item">
            <div class="header">
                Manage Sale
            </div>
            <div class="menu">
                <a class="item" href="{% url 'wmaApp:add_sale' %}">
                    <div><i class="receipt icon"></i>Add Sale</div>
                </a>
                <a class="item" href="{% url 'wmaApp:manage_sale' %}">
                    <div><i class="book icon"></i>Sales List</div>
                </a>
                 <a class="item" href="{% url 'wmaApp:booking_list' %}">
                    <div><i class="book icon"></i>Booking List</div>
                </a>

            </div>
        </div>
    <div class="item">
        <div class="header">
            Manage Jars
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_jars' %}">
                <div><i class="truck icon"></i>Jar Counter</div>
            </a>

        </div>
    </div>
    <div class="item">
        <div class="header">
            Manage Jars Allocation
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:driver_jar_allocation' %}">
                <div><i class="cart arrow down icon"></i>Driver Jar Allocation</div>
            </a>
    
        </div>
    </div>
    <div class="item">
        <div class="header">
            Manage Payments
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_payments' %}">
                <div><i class="hand holding usd icon"></i>Payment List</div>
            </a>

        </div>
    </div>

    <div class="item">
        <div class="header">
            Reports
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:reports' %}">
                <div><i class="book icon"></i>Reports</div>
            </a>

        </div>
    </div>

        <div class="item">
            <div class="header">
                Profile
            </div>
            <div class="menu">
                <a class="item" href="{% url 'wmaApp:my_profile' %}">
                    <div><i class="user icon"></i>My Profile</div>
                </a>
                <a class="item" href="{% url 'wmaApp:logout' %}">
                    <div><i class="sign out alternate icon"></i>Logout</div>
                </a>
            </div>
        </div>
    {% endif %}


    {% comment %}
Driver side bar
{% endcomment %}
    {% if request.user|has_group:"Driver" %}
    <div class="item">
        <div class="header">General</div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:dashboard' %}">
                <div>
                    <i class="tachometer alternate icon"></i>
                    Dashboard
                </div>
            </a>
        </div>
    </div>

    <div class="item">
        <div class="header">
            Manage Expense
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_expense' %}">
                <div><i class="coins icon"></i>Expense List</div>
            </a>

        </div>
    </div>
    <div class="item">
        <div class="header">
            Manage Customers
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_customer' %}">
                <div><i class="users icon"></i>Customer List</div>
            </a>

        </div>
    </div>

    <div class="item">
        <div class="header">
            Manage Sale
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:add_sale' %}">
                <div><i class="receipt icon"></i>Add Sale</div>
            </a>
            <a class="item" href="{% url 'wmaApp:manage_sale' %}">
                <div><i class="book icon"></i>Sales List</div>
            </a>

        </div>
    </div>
    <div class="item">
        <div class="header">
            Manage Jars
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_jars' %}">
                <div><i class="truck icon"></i>Jar Counter</div>
            </a>

        </div>
    </div>
    <div class="item">
        <div class="header">
            My Jars
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:my_jar_allocations' %}">
                <div><i class="truck icon"></i>My Jar Allocation</div>
            </a>
    
        </div>
    </div>
    <div class="item">
        <div class="header">
            Manage Payments
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:manage_payments' %}">
                <div><i class="hand holding usd icon"></i>Payment List</div>
            </a>

        </div>
    </div>
    <div class="item">
        <div class="header">
            Profile
        </div>
        <div class="menu">
            <a class="item" href="{% url 'wmaApp:my_profile' %}">
                <div><i class="user icon"></i>My Profile</div>
            </a>
            <a class="item" href="{% url 'wmaApp:logout' %}">
                <div><i class="sign out alternate icon"></i>Logout</div>
            </a>
        </div>
    </div>

    {% endif %}
    <div class="ui segment bgColor inverted">
        <div class="ui tiny olive inverted progress">
            <div class="bar" style="width: 100%"></div>
            <div class="label">Developed By <a href="https://zivainfotech.com">Ziva Infotech</a></div>
        </div>

        <div class="ui tiny teal inverted progress">
            <div class="bar" style="width:100%"></div>
            <div class="label">v 1.0.1</div>
        </div>
    </div>
</div>

<!-- sidebar -->
<!-- top nav -->

<nav class="ui top fixed inverted bgColor menu">
    <div class="left menu">
        <a href="#" class="sidebar-menu-toggler item" data-target="#sidebar">
            <i class="sidebar icon"></i>
        </a>
        <img class="logo logoImg" src="{% static 'sw/images/icon-192.png' %}">
        <a href="{% url 'wmaApp:dashboard' %}" class="header item">

           WMA
        </a>
    </div>

    <div class="right menu">
        <div class="ui dropdown item">
            <i class="user cirlce icon"></i>
            <div class="menu">
                <a href="{% url 'wmaApp:logout' %}" class="item">
                    <i class="sign out alternate icon"></i>
                    Logout
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- top nav -->

<div class="pusher">

    <div class="main-content">
        {% block body %}

        {% endblock %}

    </div>


</div>
<div class="preloader" >
    <div class="ui active dimmer" style="background: #1e353e!important;" >
        <div class="ui medium text loader">Loading</div>
    </div>
</div>


<script src="https://frontendfunn.github.io/semantic-ui-admin-dashboard-template/js/script.js"></script>

<script>
    $('.menu .item').tab();
    $(window).on("load", function () {
        $(".preloader").fadeOut(50);
    });

    function showLoading() {
        $('.saveBtn').css('display', 'none');
        $('.saveBtnLoad').css('display', '');

    }

    function hideLoading() {
        $('.saveBtn').css('display', '');
        $('.saveBtnLoad').css('display', 'none');

    }

    $(function () {
        var current = location.pathname;
        $('.sidebar  a').each(function () {
            var $this = $(this);
            // if the current path is like this link, make it active
            if ($this.attr('href').indexOf(current) !== -1) {
                $this.addClass('active');
            }
        })
    })
</script>
<script src="https://cdn.datatables.net/2.3.2/js/dataTables.min.js"></script>
<script src="https://cdn.datatables.net/2.3.2/js/dataTables.semanticui.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.semanticui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.4/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/fixedcolumns/5.0.0/js/dataTables.fixedColumns.min.js"></script>

<script>
    $('.ui.accordion')
  .accordion()
;
    $.fn.DataTable.ext.pager.numbers_length = 4;
    $(document).ready(function () {
        // initialize the form an fields
        $('.ui.form')
            .form({
                fields: {
                    fileInput: {
                        identifier: 'name',
                        rules: [
                            {
                                type: 'empty'
                            }
                        ]
                    }
                }
            });
    });

    function myOwnReset() {
        $('.ui.form').form('reset');
    }
</script>


{% block js %}
    <script>
        $('.message .close')
            .on('click', function () {
                $(this)
                    .closest('.message')
                    .transition('fade')
                ;
            })
        ;


    </script>

{% endblock %}
</body>
</html>
